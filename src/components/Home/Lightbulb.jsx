import { useEffect, useState } from 'react';

export default function Lightbulb() {
	const [lightOn, setLightOn] = useState(false);
	const [startFlicker, setStartFlicker] = useState(false);

	useEffect(() => {
		const flickerTimeout = setTimeout(() => setStartFlicker(true), 1000);
		const lightOnTimeout = setTimeout(() => setLightOn(true), 3000);

		return () => {
			clearTimeout(flickerTimeout);
			clearTimeout(lightOnTimeout);
		};
	}, []);

	return (
		<>
			<div className={`overlay ${lightOn ? 'fade-out' : ''}`} />
			{/* the light */}
			<svg
				className={`${startFlicker ? (lightOn ? 'pulsate' : 'flicker') : ''}`}
				width='973'
				height='973'
				viewBox='0 0 973 973'
				fill='none'
				xmlns='http://www.w3.org/2000/svg'
				x='220'
				y='0'
			>
				<g filter='url(#filter0_f_2163_1009)'>
					<circle cx='486.5' cy='486.5' r='236.5' fill='white' />
				</g>
				<defs>
					<filter
						id='filter0_f_2163_1009'
						x='0'
						y='0'
						width='973'
						height='973'
						filterUnits='userSpaceOnUse'
						color-interpolation-filters='sRGB'
					>
						<feFlood flood-opacity='0' result='BackgroundImageFix' />
						<feBlend
							mode='normal'
							in='SourceGraphic'
							in2='BackgroundImageFix'
							result='shape'
						/>
						<feGaussianBlur
							stdDeviation='125'
							result='effect1_foregroundBlur_2163_1009'
						/>
					</filter>
				</defs>
			</svg>
			<g id='lightbulb'>
				<g id='bulb-base' filter='url(#filter17_d_2149_1373)'>
					<path
						id='Vector 2423'
						d='M694.922 578.057C704.612 587.419 725.505 587.183 734.435 579.094C734.435 579.094 728.87 589.463 715.142 589.463C701.415 589.463 694.922 578.057 694.922 578.057Z'
						fill='url(#paint133_radial_2149_1373)'
					/>
					<path
						id='Vector 2425'
						d='M689.219 545.062C696.857 561.821 736.221 560.087 740.138 545.062C740.138 545.062 737.898 532.23 714.475 532.026C691.052 531.822 689.219 545.062 689.219 545.062Z'
						fill='url(#paint134_linear_2149_1373)'
					/>
					<path
						id='Vector 2426'
						d='M689.219 554.433C696.857 571.192 736.221 569.458 740.138 554.433C740.138 554.433 737.898 541.602 714.475 541.398C691.052 541.194 689.219 554.433 689.219 554.433Z'
						fill='url(#paint135_linear_2149_1373)'
					/>
					<g id='Vector 2422_2'>
						<path
							d='M691.257 572.767V563.8C698.284 580.434 734.499 578.713 738.103 563.8V573.002C738.103 573.493 738.035 573.986 737.861 574.445C732.274 589.159 698.902 588.856 691.666 574.629C691.374 574.055 691.257 573.411 691.257 572.767Z'
							fill='url(#paint136_linear_2149_1373)'
						/>
						<path
							d='M691.257 572.767V563.8C698.284 580.434 734.499 578.713 738.103 563.8V573.002C738.103 573.493 738.035 573.986 737.861 574.445C732.274 589.159 698.902 588.856 691.666 574.629C691.374 574.055 691.257 573.411 691.257 572.767Z'
							fill='url(#paint137_radial_2149_1373)'
						/>
						<path
							d='M691.257 572.767V563.8C698.284 580.434 734.499 578.713 738.103 563.8V573.002C738.103 573.493 738.035 573.986 737.861 574.445C732.274 589.159 698.902 588.856 691.666 574.629C691.374 574.055 691.257 573.411 691.257 572.767Z'
							fill='url(#paint138_radial_2149_1373)'
							fillOpacity='0.2'
						/>
						<path
							d='M691.664 565.539C693.643 569.007 696.942 571.566 700.871 573.287C705.375 575.26 710.733 576.146 715.972 576.037C721.209 575.929 726.356 574.826 730.433 572.795C733.696 571.169 736.304 568.931 737.695 566.106V573.002C737.695 573.4 737.647 573.788 737.533 574.148L737.48 574.3C736.134 577.846 733.101 580.521 729.136 582.311C725.172 584.1 720.311 584.99 715.383 584.983C710.456 584.975 705.486 584.071 701.311 582.296C697.263 580.576 693.991 578.052 692.198 574.765L692.029 574.444C691.773 573.94 691.664 573.363 691.664 572.767V565.539Z'
							stroke='url(#paint139_linear_2149_1373)'
							strokeOpacity='0.25'
							strokeWidth='0.814714'
						/>
					</g>
					<g id='Vector 2421'>
						<path
							d='M690.441 563.358V554.43C697.774 571.064 735.564 569.343 739.324 554.43V563.602C739.324 564.113 739.251 564.626 739.062 565.1C733.207 579.78 698.459 579.479 690.883 565.286C690.568 564.696 690.441 564.027 690.441 563.358Z'
							fill='url(#paint140_linear_2149_1373)'
						/>
						<path
							d='M690.441 563.358V554.43C697.774 571.064 735.564 569.343 739.324 554.43V563.602C739.324 564.113 739.251 564.626 739.062 565.1C733.207 579.78 698.459 579.479 690.883 565.286C690.568 564.696 690.441 564.027 690.441 563.358Z'
							fill='url(#paint141_radial_2149_1373)'
						/>
						<path
							d='M690.441 563.358V554.43C697.774 571.064 735.564 569.343 739.324 554.43V563.602C739.324 564.113 739.251 564.626 739.062 565.1C733.207 579.78 698.459 579.479 690.883 565.286C690.568 564.696 690.441 564.027 690.441 563.358Z'
							fill='url(#paint142_radial_2149_1373)'
							fillOpacity='0.2'
						/>
						<path
							d='M690.849 556.113C692.91 559.613 696.367 562.191 700.486 563.921C705.181 565.892 710.768 566.776 716.23 566.668C721.692 566.559 727.057 565.457 731.307 563.428C734.736 561.791 737.474 559.531 738.917 556.671V563.602C738.917 564.016 738.865 564.42 738.741 564.792L738.684 564.949C737.273 568.485 734.108 571.155 729.968 572.944C725.83 574.732 720.758 575.62 715.618 575.613C710.479 575.606 705.296 574.703 700.938 572.931C696.711 571.213 693.295 568.693 691.419 565.414L691.242 565.094C690.966 564.577 690.849 563.978 690.849 563.358V556.113Z'
							stroke='url(#paint143_linear_2149_1373)'
							strokeOpacity='0.25'
							strokeWidth='0.814714'
						/>
					</g>
					<g id='Vector 2420'>
						<path
							d='M689.219 554.032V545.061C696.857 561.82 736.221 560.086 740.138 545.061V554.283C740.138 554.81 740.061 555.339 739.859 555.825C733.745 570.596 697.593 570.294 689.686 556.013C689.353 555.41 689.219 554.722 689.219 554.032Z'
							fill='url(#paint144_linear_2149_1373)'
						/>
						<path
							d='M689.219 554.032V545.061C696.857 561.82 736.221 560.086 740.138 545.061V554.283C740.138 554.81 740.061 555.339 739.859 555.825C733.745 570.596 697.593 570.294 689.686 556.013C689.353 555.41 689.219 554.722 689.219 554.032Z'
							fill='url(#paint145_radial_2149_1373)'
						/>
						<path
							d='M689.219 554.032V545.061C696.857 561.82 736.221 560.086 740.138 545.061V554.283C740.138 554.81 740.061 555.339 739.859 555.825C733.745 570.596 697.593 570.294 689.686 556.013C689.353 555.41 689.219 554.722 689.219 554.032Z'
							fill='url(#paint146_radial_2149_1373)'
							fillOpacity='0.2'
						/>
						<path
							d='M689.626 546.702C691.769 550.258 695.384 552.872 699.693 554.622C704.58 556.606 710.396 557.497 716.082 557.387C721.767 557.278 727.352 556.169 731.774 554.127C735.369 552.467 738.237 550.169 739.731 547.255V554.283C739.731 554.71 739.676 555.126 739.544 555.508L739.483 555.67C738.011 559.227 734.712 561.916 730.396 563.719C726.083 565.519 720.799 566.413 715.445 566.406C710.092 566.399 704.692 565.491 700.15 563.707C695.745 561.976 692.186 559.437 690.228 556.137L690.043 555.816C689.75 555.288 689.626 554.671 689.626 554.032V546.702Z'
							stroke='url(#paint147_linear_2149_1373)'
							strokeOpacity='0.25'
							strokeWidth='0.814714'
						/>
					</g>
				</g>
				<g id='bulb'>
					<mask
						id='mask5_2149_1373'
						style={{ maskType: 'alpha' }}
						maskUnits='userSpaceOnUse'
						x='666'
						y='442'
						width='98'
						height='116'
					>
						<g id='Vector 2419'>
							<path
								d='M740.754 546.283C734.743 560.309 697.37 560.948 688.816 546.283C687.08 543.308 687.39 533.655 684.126 528.971C674.355 518.99 664.426 503.359 666.209 485.791C668.365 464.546 685.332 442 715.09 442C740.781 442 761.733 460.738 763.362 485.791C764.992 510.843 752.771 520.62 745.031 529.582C742.383 533.044 741.976 543.432 740.754 546.283Z'
								fill='url(#paint148_linear_2149_1373)'
							/>
							<path
								d='M715.091 443.63C739.589 443.63 759.534 461.193 761.649 484.77L761.736 485.896C762.531 498.113 759.951 506.502 756.295 512.913C752.581 519.425 747.8 523.883 743.798 528.517L743.767 528.554L743.737 528.592C742.884 529.708 742.295 531.248 741.851 532.804C741.397 534.394 741.047 536.175 740.752 537.884C740.604 538.741 740.468 539.593 740.338 540.4C740.207 541.211 740.084 541.975 739.961 542.675C739.704 544.134 739.475 545.131 739.256 545.642C737.993 548.588 734.983 551.027 730.697 552.751C726.444 554.462 721.151 555.374 715.727 555.413C710.305 555.452 704.845 554.617 700.263 552.915C695.802 551.258 692.325 548.84 690.404 545.762L690.224 545.462C689.946 544.986 689.679 544.08 689.411 542.677C689.15 541.306 688.935 539.75 688.652 538.007C688.113 534.689 687.339 530.732 685.463 528.039L685.385 527.928L685.29 527.831L684.388 526.894C675.225 517.204 666.459 502.767 667.758 486.744L667.83 485.955C669.918 465.38 686.322 443.63 715.091 443.63Z'
								stroke='url(#paint149_linear_2149_1373)'
								strokeOpacity='0.5'
								strokeWidth='3.25885'
							/>
						</g>
					</mask>
					<g mask='url(#mask5_2149_1373)'>
						<path
							id='Vector 2428'
							d='M740.754 546.283C734.743 560.309 697.37 560.948 688.816 546.283C687.08 543.308 687.39 533.655 684.126 528.971C674.355 518.99 664.426 503.359 666.209 485.791C668.365 464.546 685.332 442 715.09 442C740.781 442 761.733 460.738 763.362 485.791C764.992 510.843 752.771 520.62 745.031 529.582C742.383 533.044 741.976 543.432 740.754 546.283Z'
							fill='url(#paint150_linear_2149_1373)'
							fillOpacity='0.75'
						/>
						{/* INNER LIGHT */}
						<g
							id='Vector 2432'
							filter='url(#filter18_d_2149_1373)'
							className={`${
								startFlicker ? (lightOn ? 'pulsate' : 'flicker') : ''
							}`}
						>
							<path
								d='M741.13 546.244C735.088 560.264 697.528 560.903 688.931 546.244C687.186 543.27 687.498 533.62 684.217 528.938C674.397 518.961 664.419 503.335 666.21 485.774C668.377 464.538 685.429 442 715.337 442C741.157 442 762.214 460.731 763.852 485.774C765.489 510.817 753.207 520.59 745.428 529.548C742.767 533.01 742.358 543.393 741.13 546.244Z'
								fill='white'
							/>
						</g>
						<path
							id='Vector 2430'
							d='M740.754 546.283C734.743 560.309 697.37 560.948 688.816 546.283C687.08 543.308 687.39 533.655 684.126 528.971C674.355 518.99 664.426 503.359 666.209 485.791C668.365 464.546 685.332 442 715.09 442C740.781 442 761.733 460.738 763.362 485.791C764.992 510.843 752.771 520.62 745.031 529.582C742.383 533.044 741.976 543.432 740.754 546.283Z'
							fill='url(#paint151_linear_2149_1373)'
							fillOpacity='0.25'
						/>
						<path
							id='Vector 2427'
							d='M737.313 560.747C731.713 573.753 698.775 574.345 690.806 560.747C689.189 557.989 689.593 530.244 686.552 525.901C677.449 516.647 668.2 502.152 669.861 485.863C671.869 466.164 687.675 445.259 715.399 445.259C739.332 445.259 758.851 462.634 760.369 485.863C761.887 509.092 750.502 518.157 743.292 526.467C740.825 529.678 738.451 558.103 737.313 560.747Z'
							fill='url(#paint152_linear_2149_1373)'
							fillOpacity='0.75'
						/>
						<path
							id='Ellipse 3904'
							d='M691.213 468.306C686.41 472.423 686.409 481.53 679.691 479.758C672.973 477.985 677.85 467.74 684.532 460.612C691.213 453.483 701.615 449.771 702.706 455.724C703.796 461.677 696.016 464.189 691.213 468.306Z'
							fill='url(#paint153_linear_2149_1373)'
						/>
						<g id='Vector_16'>
							<path
								d='M724.287 523.63C729.825 519.559 734.439 512.833 734.439 504.662C734.439 497.641 729.175 484.975 723.911 486.303C719.774 487.346 724.688 501.535 721.843 504.662C718.819 507.966 710.867 507.848 707.742 504.662C704.795 501.623 709.998 487.355 705.862 486.303C700.409 484.916 695.333 497.641 695.333 504.662C695.333 512.804 700.12 519.559 705.658 523.63V552.688C705.658 557.585 708.418 559.93 715.074 559.93C721.731 559.93 724.287 557.826 724.287 552.688V523.63Z'
								fill='url(#paint154_linear_2149_1373)'
								fillOpacity='0.25'
							/>
							<path
								d='M724.287 523.63C729.825 519.559 734.439 512.833 734.439 504.662C734.439 497.641 729.175 484.975 723.911 486.303C719.774 487.346 724.688 501.535 721.843 504.662C718.819 507.966 710.867 507.848 707.742 504.662C704.795 501.623 709.998 487.355 705.862 486.303C700.409 484.916 695.333 497.641 695.333 504.662C695.333 512.804 700.12 519.559 705.658 523.63V552.688C705.658 557.585 708.418 559.93 715.074 559.93C721.731 559.93 724.287 557.826 724.287 552.688V523.63Z'
								fill='url(#paint155_linear_2149_1373)'
								fillOpacity='0.2'
							/>
						</g>
					</g>
				</g>
			</g>
		</>
	);
}
